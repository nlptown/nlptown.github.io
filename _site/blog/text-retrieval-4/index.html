<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Text Retrieval & Search Engines (Coursera): Week 3 Part 2: User Feedback &#8211; Yves Peirsman</title>
<meta name="description" content="">
<meta name="keywords" content="NLP, text, retrieval, search, engines, Coursera">
<meta name="author" content="Yves Peirsman">
<!-- Twitter Cards -->
	
		<meta name="twitter:card" content="summary">
		<meta name="twitter:image" content=
			
				
						"http://nlp.yvespeirsman.be/images/"
				
			
		>
	
	<meta name="twitter:title" content="Text Retrieval & Search Engines (Coursera): Week 3 Part 2: User Feedback">
	<meta name="twitter:description" content="This is the website and blog of Yves Peirsman, Natural Language Processing Consultant.">
	<meta name="twitter:creator" content="@yvespeirsman">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Text Retrieval & Search Engines (Coursera): Week 3 Part 2: User Feedback">
<meta property="og:description" content="This is the website and blog of Yves Peirsman, Natural Language Processing Consultant.">
<meta property="og:url" content="http://nlp.yvespeirsman.be/blog/text-retrieval-4/">
<meta property="og:site_name" content="Yves Peirsman">





<link rel="canonical" href="http://nlp.yvespeirsman.be/blog/text-retrieval-4/">
<link href="http://nlp.yvespeirsman.be/feed.xml" type="application/atom+xml" rel="alternate" title="Yves Peirsman Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://nlp.yvespeirsman.be/assets/css/main.min.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://nlp.yvespeirsman.be/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://nlp.yvespeirsman.be/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://nlp.yvespeirsman.be/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://nlp.yvespeirsman.be/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://nlp.yvespeirsman.be/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://nlp.yvespeirsman.be/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://nlp.yvespeirsman.be/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://nlp.yvespeirsman.be/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://nlp.yvespeirsman.be/images/apple-touch-icon-144x144-precomposed.png">

<link rel="stylesheet" href="/css/yves.css">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
	</div> <!--/.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				<li><a href="http://nlp.yvespeirsman.be/" >Home</a></li>
		        
				<li><a href="http://nlp.yvespeirsman.be/blog/" >All Posts</a></li>
		        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->




<div id="main" role="main">
  <div class="article-author-side">
    
	<a href="http://nlp.yvespeirsman.be"><img src="http://nlp.yvespeirsman.be/images/bio-photo.jpg" class="bio-photo" alt="Yves Peirsman bio photo"></a>

<h3><a href="http://nlp.yvespeirsman.be">Yves Peirsman</a></h3>
<p>Crazy about Natural Language Processing.</p>
<a href="http://twitter.com/yvespeirsman" class="author-social" target="_blank"><i class="fa fa-twitter-square"></i> Twitter</a>


<a href="http://linkedin.com/in/yvespeirsman" class="author-social" target="_blank"><i class="fa fa-linkedin-square"></i> LinkedIn</a>










  </div>
  <article>
    <div class="headline-wrap">
      
        <h1><a href="http://nlp.yvespeirsman.be/blog/text-retrieval-4/" rel="bookmark" title="Text Retrieval & Search Engines (Coursera): Week 3 Part 2: User Feedback">Text Retrieval & Search Engines (Coursera): Week 3 Part 2: User Feedback</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p class="first">This month I’m taking the online course <a href="https://www.coursera.org/course/textretrieval">Text Retrieval &amp; Search Engines</a> on Coursera, and I’m using this blog to write down the main takeaways every week. In this third week of the course, we again focused on two main topics: probabilistic models for information retrieval and methods for user feedback. In this blog post I share my notes on user feedback.</p>

<p>There are several ways in which a search engine can get feedback from its users. It can simply ask them to make <em>explicit relevance judgements</em> about its initial result list, for example. The system can subsequently update the query to give a better ranking, by adding new terms (so-called <em>query expansion</em>) or by adjusting the weight of old terms. However, because users are generally reluctant to make this effort, developers of IR systems have come up with more creative ways of improving the results. In <em>pseudo-relevance feedback</em>, they assume the top ranked documents are relevant, and improve the query on the basis of these documents. For example, the system can find new words that are related to the query words, by comparing the word frequencies in these documents to those in the full document collection. In <em>implicit feedback</em>, the system tracks user behaviour: if a user clicks on a document, it assumes this document will be relevant. It can then use the snippet that was shown to the user to improve the query. 

<p>The most effective method for feedback in the <a href="http://nlp.yvespeirsman.be/blog/text-retrieval-1/">vector space model</a> is called Rocchio Feedback. Basically, the search engine adapts the query by moving its vector $\overrightarrow{q}$ closer to the centroid of the relevant documents $D_r$, and away from the centroid of the non-relevant documents $D_n$. Three parameters $\alpha$, $\beta$ and $\gamma$ control the amount of movement: $$ \overrightarrow{q_m} = \alpha \overrightarrow{q} + \frac{\beta}{|D_r|}\sum_{\forall \overrightarrow{d_j} \in D_r} \overrightarrow{d_j} - \frac{\gamma}{|D_n|}\sum_{\forall \overrightarrow{d_j} \in D_n}\overrightarrow{d_j}$$ Some tricks of the trade help make the Rocchio method more effective. For example, it is customary to truncate the updated query vector, since too many words get a non-zero weight after query expansion. Also, because the non-relevant documents are typically not clustered together, their centroid tends to be fairly uninformative and is often ignored. Finally, you can prevent overfitting by setting $\alpha$  fairly high. Particularly in the case of pseudo-relevance feedback, $\beta$ should be kept relatively small, in order to avoid adjusting the query vector too much to documents whose relevance is not 100% certain.</p>

<p>Things are slightly more complex in the <a href="http://nlp.yvespeirsman.be/blog/text-retrieval-3/">Query Likelihood Model</a>. Because this model treats the query as a sample from a language model, adding terms or adjusting weights is rather awkward (Zhai 2008). Therefore it is often replaced by the more general Kullback-Leibler Divergence retrieval model. This approach computes the score $s$ of a document $D$ with respect to a query $Q$ as the Kullback-Leibler divergence between the document language model $\theta_D$ and the query language model $\theta_Q$: $$\begin{align*}s(D,Q)&amp;=-\sum_{w \in V}p(w|\theta_Q) log \frac{p(w|\theta_Q)}{p(w|\theta_D)} \\ &amp;= \sum_{w \in V}p(w|\theta_Q) log p(w|\theta_D) - \sum_{w \in V}p(w|\theta_Q) log p(w|\theta_Q)\end{align*}$$

Because the last term in this equation depends on the query only, documents can be ranked on the basis of just the first term, the so-called negative cross-entropy. It is now easy to see the Query Likelihood model is a special case of this approach: the frequency of a word in the query can be interpreted as the maximum likelihood estimate of its probability in the query language model, $p(w|\theta_Q)$, and the relevance of a query to a document is the sum of the probability of the query words in the document language model, $p(w|\theta_Q)$.</p>

<p>The advantage of this KL Divergence model is that is becomes much easier to take user feedback into account. We can do this by updating the query language model with a third language model &mdash; the <em>feedback language model</em> &mdash; for example by linear interpolation. Of course, the question is how we estimate this feedback language model. The answer takes the form of a generative mixture model, where we assume the relevant documents are generated from a mixture of a topic language model and a background language model. The background model is  computed as the maximum likelihood estimate of all documents in the collection, while the topic model should maximise the probability of seeing the relevant documents. A parameter $\lambda$ controls the weight that will be given to either of these documents.</p>

<p>In contrast to the other parts of a typical IR system, there is no real standard for the feedback component, and many competing approaches exist. Some of these are discussed in ChengXiang Zhai’s 2008 paper <a href="http://times.cs.uiuc.edu/czhai/pub/slmir-now.pdf">Statistical Language Models for Information Retrieval</a>, specifically in the context of language models. Don’t miss it in case you’re interested in a much more detailed overview of the challenges and solutions to user feedback.</p>
</p>

      <div class="addthis_sharing_toolbox"></div>
      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          
	<a href="http://nlp.yvespeirsman.be"><img src="http://nlp.yvespeirsman.be/images/bio-photo.jpg" class="bio-photo" alt="Yves Peirsman bio photo"></a>

<h3><a href="http://nlp.yvespeirsman.be">Yves Peirsman</a></h3>
<p>Crazy about Natural Language Processing.</p>
<a href="http://twitter.com/yvespeirsman" class="author-social" target="_blank"><i class="fa fa-twitter-square"></i> Twitter</a>


<a href="http://linkedin.com/in/yvespeirsman" class="author-social" target="_blank"><i class="fa fa-linkedin-square"></i> LinkedIn</a>










        </div>
        <p class="byline"><strong>Text Retrieval & Search Engines (Coursera): Week 3 Part 2: User Feedback</strong> was published on <time datetime="2015-04-23T05:00:00-04:00">April 23, 2015</time> by <a href="http://nlp.yvespeirsman.be/about" title="About Yves Peirsman">Yves Peirsman</a>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://nlp.yvespeirsman.be/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="http://nlp.yvespeirsman.be/blog/generating-genre-fiction-with-deep-learning/" title="Generating Genre Fiction with Deep Learning">Generating Genre Fiction with Deep Learning</a></li>
    
      <li><a href="http://nlp.yvespeirsman.be/blog/text-retrieval-6/" title="Text Retrieval & Search Engines (Coursera): Week&nbsp;4 Part&nbsp;2: Recommender Systems">Text Retrieval & Search Engines (Coursera): Week&nbsp;4 Part&nbsp;2: Recommender Systems</a></li>
    
      <li><a href="http://nlp.yvespeirsman.be/blog/visualizing-word-embeddings-with-tsne/" title="Visualizing Word Embeddings with t-SNE">Visualizing Word Embeddings with t-SNE</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2015 Yves Peirsman. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->


<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://nlp.yvespeirsman.be/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://nlp.yvespeirsman.be/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53268217-1', 'auto');
  ga('send', 'pageview');
</script>



  <!-- Go to www.addthis.com/dashboard to customize your tools -->
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53fb5daa449762bb"></script>
  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'yvespeirsman'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



	        

</body>
</html>
